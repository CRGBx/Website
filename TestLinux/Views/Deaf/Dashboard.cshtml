@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "~/Views/Shared/_LayoutM.cshtml";
}

<div class="container" style="margin-top:30px;">
    
    <div class="row">
        <div class="col-lg-12 col-12">
            <a href="/Deaf/BrComplaint" class="btnrate">  Enter Complaint</a>
        </div>

    </div>
    <div class="row">
        <div class="col-lg-12 col-12">
            
            <h4>Complaints Status</h4>
            <table class="table table-bordered table-sm">
                <thead>
                    <tr>
                        <th>Particulars</th>
                        <th>Pending Complaints</th>
                        <th>Closed Complaints</th>
                        <th>
                            Total Complaints
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>General </td>
                        <td><a href="#" onclick="fetchList('Pending','G')"> @ViewBag.P_G </a></td>
                        <td><a href="#" onclick="fetchList('Closed','G')"> @ViewBag.C_G </a></td>
                        <td><a href="#" onclick="fetchList('Total','G')"> @((int)ViewBag.P_G + (int)ViewBag.C_G) </a></td>
                    </tr>
                    <tr>
                        <td>Digital Transaction </td>
                        <td> <a href="#" onclick="fetchList('Pending','D')"> @ViewBag.P_D </a></td>
                        <td><a href="#" onclick="fetchList('Closed','D')"> @ViewBag.C_D</a> </td>
                        <td><a href="#" onclick="fetchList('Total','D')"> @((int)ViewBag.P_D + (int)ViewBag.C_D) </a></td>
                    </tr>
                    <tr>
                        <td>Total </td>
                        <td> <a href="#" onclick="fetchList('Pending','All')">  @((int)ViewBag.P_G + (int)ViewBag.P_D) </a></td>
                        <td> <a href="#" onclick="fetchList('Closed','All')">  @((int)ViewBag.C_D + (int)ViewBag.C_G) </a></td>
                        <td><a href="#" onclick="fetchList('Total','All')">  @((int)ViewBag.P_G + (int)ViewBag.C_G + (int)ViewBag.P_D + (int)ViewBag.C_D) </a></td>
                    </tr>
                </tbody>
            </table>

        </div><!-- col -->

    </div>
    <div class="row">
        <div class="col-lg-12 col-12" id="ListHolder">

            </div>
        </div>

    </div>

        @section Scripts

        
{
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap4.min.css"/>
     <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.bootstrap4.min.css"/>

    
 
<script type="text/javascript" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap4.min.js" ></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.bootstrap4.min.js" ></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="//cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>

            <script type="text/javascript">
                function fetchList(a, b) {
                    fetch('/Deaf/FetchList?a=' + a + '&b=' + b).then(function (response) {
                        // The API call was successful!
                        return response.text();
                    }).then(function (html) {
                        // This is the HTML from our response as a text string
                        //console.log(html);
                        $('#ListHolder').html(html);
                        $('#dTable').DataTable( {
                            dom: 'Blfrtip',
                             "pageLength": 50,
    buttons: [
        'copy', 'excel', 'pdf'
    ]
} );
                });}
            </script>
        }
